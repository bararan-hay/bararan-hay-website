{"version":3,"sources":["providers/ProvideBook/reducer.js","providers/ProvideBook/index.jsx","components/SearchResult.jsx","pages/Home.jsx","hooks/index.js","assets/images/logo.svg","App.jsx","assets/styles/index.less","index.jsx"],"names":["reducer","state","action","type","payload","Error","BookContext","createContext","ProvideBook","children","context","useReducer","loading","books","list","bookStorage","dispatch","loadBooks","useCallback","axios","get","process","then","response","data","resetBooks","searchWord","keyword","post","useProvideBook","Provider","value","useBooks","useContext","Title","Typography","SearchResult","filter","r","words","length","bordered","active","style","paddingTop","image","Empty","PRESENTED_IMAGE_SIMPLE","description","map","result","marginBottom","level","BookOutlined","marginRight","name","padding","item","index","whiteSpace","lineHeight","title","dangerouslySetInnerHTML","__html","replace","_id","Paragraph","Home","useState","inputValue","setInputValue","inputRef","useRef","query","URLSearchParams","window","location","search","useEffect","debouncedChangeHandler","debounce","onInputChange","e","currentTarget","set","history","replaceState","concat","toString","cancel","current","focus","gutter","xs","sm","md","lg","xl","size","allowClear","ref","height","border","placeholder","onChange","BulbOutlined","paddingInlineStart","book","Container","props","maxWidth","margin","App","minHeight","Header","color","textAlign","src","Logo","alt","width","Content","Footer","align","wrap","href","Text","target","rel","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2c4951a8.chunk.js","sourcesContent":["export default function reducer(state, action) {\n  switch (action.type) {\n    case 'setBooks':\n      return {\n        ...state,\n        ...action.payload\n      };\n    default:\n      throw new Error(`${action.type} not found!`);\n  }\n}\n","import { useContext, createContext, useReducer, useCallback } from 'react';\nimport { message } from 'antd';\nimport axios from 'axios';\nimport reducer from './reducer';\n\nconst BookContext = createContext();\n\nexport function ProvideBook({ children }) {\n  const context = useProvideBook();\n  return <BookContext.Provider value={context}>{children}</BookContext.Provider>;\n}\n\nexport function useBooks() {\n  return useContext(BookContext);\n}\n\nfunction useProvideBook() {\n  const [bookStorage, dispatch] = useReducer(reducer, {\n    loading: true,\n    books: [],\n    list: []\n  });\n\n  const loadBooks = useCallback(() => {\n    return axios.get(process.env.REACT_APP_API + '/books').then(response => {\n      return dispatch({\n        type: 'setBooks',\n        payload: {\n          books: response.data,\n          list: response.data,\n          loading: false\n        }\n      });\n    });\n  }, []);\n\n  const resetBooks = useCallback(() => {\n    dispatch({\n      type: 'setBooks',\n      payload: {\n        books: bookStorage.list,\n        loading: false\n      }\n    });\n  }, [bookStorage.list]);\n\n  const searchWord = useCallback(keyword => {\n    dispatch({\n      type: 'setBooks',\n      payload: {\n        loading: true\n      }\n    });\n    return axios.post(process.env.REACT_APP_API + '/books/search', { keyword }).then(response => {\n      return dispatch({\n        type: 'setBooks',\n        payload: {\n          books: response.data,\n          loading: false\n        }\n      });\n    });\n  }, []);\n\n  return {\n    bookStorage,\n    searchWord,\n    resetBooks,\n    loadBooks\n  };\n}\n","import { Typography, Card, Skeleton, Empty } from 'antd';\nimport { BookOutlined } from '@ant-design/icons';\nimport { useBooks } from 'providers/ProvideBook';\n\nconst { Title } = Typography;\n\nconst SearchResult = () => {\n  const { bookStorage } = useBooks();\n\n  const books = bookStorage.books.filter(r => r.words?.length > 0);\n\n  return (\n    <>\n      {bookStorage.loading ? (\n        <Card bordered={false}>\n          <Skeleton active />\n        </Card>\n      ) : books.length === 0 ? (\n        <Card bordered={false}>\n          <Empty\n            style={{ paddingTop: 55 }}\n            image={Empty.PRESENTED_IMAGE_SIMPLE}\n            description=\"Ընտրված բառարաններում այս բառը չկա\"\n          />\n        </Card>\n      ) : (\n        books\n          .filter(r => r.words.length > 0)\n          .map(result => (\n            <Card key={result._id} bordered={false} style={{ marginBottom: 5 }}>\n              <Title level={5}>\n                <BookOutlined style={{ marginRight: 8 }} />\n                {result.name}\n              </Title>\n              <ul style={{ padding: '10px 0 0 25px' }}>\n                {result.words.map((item, index) => (\n                  <li\n                    key={index}\n                    style={{\n                      marginBottom: 10,\n                      whiteSpace: 'pre-line',\n                      lineHeight: 1.7\n                    }}\n                  >\n                    <span>{item.title} </span>\n                    <span\n                      dangerouslySetInnerHTML={{\n                        __html: item.description.replace(/\\\\n/g, '\\n')\n                      }}\n                    />\n                  </li>\n                ))}\n              </ul>\n            </Card>\n          ))\n      )}\n    </>\n  );\n};\n\nexport default SearchResult;\n","import { useState, useEffect, useRef, useCallback } from 'react';\nimport { Typography, Input, Form, Row, Col, Card, Spin } from 'antd';\nimport { BulbOutlined } from '@ant-design/icons';\nimport { useBooks } from 'providers/ProvideBook';\nimport debounce from 'lodash.debounce';\nimport { useQuery } from 'hooks';\nimport SearchResult from 'components/SearchResult';\n\nconst { Title, Paragraph } = Typography;\n\nexport default function Home() {\n  const { bookStorage, loadBooks, searchWord, resetBooks } = useBooks();\n  const [inputValue, setInputValue] = useState('');\n  const inputRef = useRef();\n  const query = useQuery();\n\n  useEffect(() => {\n    loadBooks();\n  }, [loadBooks]);\n\n  const debouncedChangeHandler = useCallback(debounce(searchWord, 300), [searchWord]);\n\n  const onInputChange = useCallback(\n    e => {\n      const value = e.currentTarget.value;\n\n      setInputValue(value);\n      query.set('word', value);\n\n      if (value) {\n        debouncedChangeHandler(value);\n      } else {\n        resetBooks();\n      }\n\n      window.history.replaceState(null, null, '?'.concat(query.toString()));\n    },\n    [debouncedChangeHandler, resetBooks]\n  );\n\n  useEffect(() => {\n    return () => {\n      debouncedChangeHandler.cancel();\n    };\n  }, [debouncedChangeHandler]);\n\n  useEffect(() => {\n    const value = query.get('word');\n    if (value) {\n      setInputValue(value);\n      debouncedChangeHandler(value);\n    }\n  }, [debouncedChangeHandler]);\n\n  useEffect(() => {\n    inputRef.current?.focus();\n  }, []);\n\n  return (\n    <div>\n      <Row gutter={26}>\n        <Col xs={24} sm={24} md={24} lg={4} xl={6}></Col>\n        <Col xs={24} sm={24} md={24} lg={16} xl={12} style={{ marginBottom: 12 }}>\n          <Form size=\"large\" style={{ marginBottom: 15 }}>\n            <Input\n              allowClear\n              value={inputValue}\n              ref={inputRef}\n              style={{ height: '50px', border: 'none', padding: '10px 20px' }}\n              placeholder={'Մուտքագրեք բառը...'}\n              onChange={onInputChange}\n            />\n          </Form>\n          {!inputValue ? (\n            <Card bordered={false}>\n              <Title level={5}>\n                <BulbOutlined style={{ marginRight: 8 }} />\n                Բարեւ սիրելի օգտատեր\n              </Title>\n              <Paragraph>\n                Սա ազատ ելակոդով բառարանների շտեմարան է։ Այն բաղկացած է հետեւյալ բառարաններից՝\n              </Paragraph>\n              {bookStorage.loading ? (\n                <Spin />\n              ) : (\n                <ul style={{ paddingInlineStart: '25px' }}>\n                  {bookStorage.books.map(book => (\n                    <li key={book._id}>{book.name}</li>\n                  ))}\n                </ul>\n              )}\n            </Card>\n          ) : (\n            <SearchResult />\n          )}\n        </Col>\n        <Col xs={24} sm={24} md={24} lg={4} xl={6}></Col>\n      </Row>\n    </div>\n  );\n}\n","export const useQuery = () => {\n  return new URLSearchParams(window.location.search);\n};\n","export default __webpack_public_path__ + \"static/media/logo.79d1f611.svg\";","import Home from './pages/Home';\nimport { Layout, Typography, Space } from 'antd';\nimport Logo from 'assets/images/logo.svg';\nimport GitHubButton from 'react-github-btn';\n\nconst Container = props => {\n  return (\n    <div style={{ maxWidth: 1500, margin: '0 auto', padding: '0 30px', ...props.style }}>\n      {props.children}\n    </div>\n  );\n};\n\nfunction App() {\n  return (\n    <Layout style={{ minHeight: '100vh' }}>\n      <Layout.Header style={{ color: '#fff', padding: 0 }}>\n        <Container style={{ textAlign: 'center' }}>\n          <img src={Logo} alt=\"Բառարան.հայ\" width=\"40\" />\n        </Container>\n      </Layout.Header>\n      <Layout.Content style={{ padding: '40px 0' }}>\n        <Container>\n          <Home />\n        </Container>\n      </Layout.Content>\n      <Layout.Footer style={{ textAlign: 'center' }}>\n        <Space align=\"center\" wrap size=\"large\">\n          <GitHubButton\n            href=\"https://github.com/bararan-hay/bararan-hay-website\"\n            data-icon=\"octicon-star\"\n            data-size=\"large\"\n            data-show-count=\"true\"\n            aria-label=\"Star buttons/github-buttons on GitHub\"\n          >\n            Star\n          </GitHubButton>\n          <Typography.Text>\n            Հեղինակ՝{' '}\n            <a target=\"_blank\" href=\"https://tigransimonyan.com/about\">\n              Տիգրան Սիմոնյան\n            </a>\n          </Typography.Text>\n          <a rel=\"license\" target=\"_blank\" href=\"http://creativecommons.org/licenses/by-nc/4.0/\">\n            <img\n              alt=\"Creative Commons License\"\n              src=\"https://i.creativecommons.org/l/by-nc/4.0/88x31.png\"\n            />\n          </a>\n        </Space>\n      </Layout.Footer>\n    </Layout>\n  );\n}\n\nexport default App;\n","export default __webpack_public_path__ + \"static/media/index.2503da86.less\";","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { ProvideBook } from 'providers/ProvideBook';\nimport 'antd/dist/reset.css';\nimport 'assets/styles/index.less';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ProvideBook>\n      <App />\n    </ProvideBook>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}